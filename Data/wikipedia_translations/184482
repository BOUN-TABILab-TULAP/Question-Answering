S2 (programlama dili)
S2 (Stil Sistemi 2) kullanıcılara kendi sayfaları görünümü üzerinde tam kontrol sağlamak için çevrimiçi günlüklerinde hizmeti LiveJournal için Brad Fitzpatrick, Martin "Mart" Atkins, ve diğerleri tarafından 1990'ların sonlarında geliştirilen bir nesne yönelimli programlama dilidir. S2 kaynak kodu web sunucusu daha sonra bireysel web sayfası isteklerini direkt olarak yürütebilirsiniz Perl, derlendi.
S2 sistemi, özünde tamamen genel ve hemen hemen her web uygulaması için kullanılabilir; Ancak LiveJournal nispeten yakından bağlar, diğer uygulamalar içinde S2 uygulanması, hiçbir belge mevcuttur.
Bu makale örnekleri için S2 LiveJournal uygulanması faydalanmak olacaktır. Bu uygulama hakkında detaylı belgelere bir bağlantı dibinde bulunabilir.
Dil özellikleri.
S2 yapısı yakından çoğu zorunlu programlama dilleri, benzer ve değişken atamaları, aritmetik işlemler, koşullu akış kontrolü ve sonlu kümeler üzerinde döngüler "için" (ancak belirgin yoksun döngüleri "ise") gibi temel talimatları içerir. Nesne yönelimli olmak, S2 üyeleri ve yöntemleri ile sınıfların beyanını sağlar, ancak küresel (non-sınıf-özel) fonksiyonları da tanımlanabilir. Özyineleme izin verilir, ancak iç içe fonksiyonlar değildir.
Katmanlar ve özellikleri.
S2 bir ayırt edici özelliği kaynak kodu altı farklı türleri vardır ki bireysel "katmanları" ("çekirdek", "i18nc", "düzen", "i18n" "tema" ve "user") halinde organize olmasıdır. Bu tabakalar, ağaç benzeri bir yapı oluşturur.
Kökündeki "çekirdek katmanı", tüm sınıfları ve S2 kullanılıyor hangi web sitesine özgü yöntemlerini belirten bir tabaka yatıyor. LiveJournal durumunda, bu sınıflar, bireysel dergi manzarası (Son Girişler, Arşiv, vb) ve site ile ilgili nesneleri (kullanıcılar, günlük girişleri, vs.) temsil eder. Bu genel kullanım tüm yöntemleri basit varsayılan uygulamaları değil, aynı zamanda küresel fonksiyonları sağlar. Işlevlerden bazıları olmak "yerleşik" fonksiyonları olarak belirtilir ve S2 alt sistemi Perl uygulanmaktadır; Diğer tüm fonksiyonlar S2 kendisi uygulanır ve S2 derleyicisi tarafından Perl koduna derlenmektedir.
Bu, belirli bir nesne veya sınıfa özgü olmayan değişkenler, ancak bir katmana - S2 dil "özelliklerini" bir kavramını tanıtır. Böyle bir özellik metinsel dizge, vb çekirdek katmanı bir tamsayı, bir onaltılık renk kodu, örneğin, İngilizce dilinde kullanıcı görünür metin tutmak için metinsel dize özelliklerini tanımlar olabilir.
Çekirdek katmanı astı "i18nc" ("çekirdek uluslararasılaşma") diğer dillere çevirileri ile geçersiz kılınabilir çekirdek tabakasında metinsel dize özellikleri için izin katmanları vardır.
Ayrıca çekirdek katmanı emrine "düzen" katmanları vardır. Bir düzen tabakası belirli bir site düzeni (LiveJournal durumunda dergi düzeni) belirtir ve çeşitli şekillerde düzeni görünümünü ve davranışını etkileyen yeni özellikler sağlayabilir. Bir düzen tabakası normal çekirdek katmanı tanımlanan yöntemlerin hemen hemen tüm geçersiz kılar ve belirli düzen özgü görevleri gerçekleştirmek için yenilerini tanıtmak olabilir. Bir çekirdek tarif edildiği gibi yöntem düzeni tabaka geçersiz olup olan denir, aynı yöntem, bir üst sınıf için geçersiz ise, o zaman, bu üst-düzey yöntemi yerine temel tabakada sınıfa özel bir varsayılan uygulama daha olarak adlandırılır.
tabakaların kalan üç tip - "i18n" katmanları, "Tema" katmanları ve "kullanıcı" katmanları - tüm belirli bir düzen katmana bağlı bulunmaktadır. Genel olarak, üçü düzeni tabakasından hem özellikleri ve işlevleri / yöntemleri geçersiz kılabilirsiniz, ancak onların Amaçlanan değişir. "I18n" düzen uluslar sağlanmaktadır; Bu düzen, diğer dilleri konuşanlar tarafından kullanılmak üzere değil, öncelikle kullanıcı görünür metin özelleştirmek için bir yol sağlamak için izin vermektir. "Tema" tabakalar bir düzen özelliklerinin değerlerinin önerilen setleri temin etmek için kullanılabilir. Bu ortak bir uygulama estetik tutarlı renk temaları oluşturmak için, ama prensip dışı renk özellikleri (yazı tipleri, boyutları, vs.) aynı zamanda bir tema katmanında kılınabilir. "Kullanıcı" tabakalar, son olarak, özelliklerin değerleri ile ilgili olarak belirli bir kullanıcının tercihleri ​​saklamak içindir. Kullanıcı tabakası sonuçta özelliklerinin değerleri "son söz" vardır.
Uluslararasılaşma.
Önceki bölümde zikredildiği gibi i18n tabakalar bir düzen çevirmek için kullanılır ise, i18nc katmanlar, çekirdek tabaka çevirmek için kullanılır. En basit haliyle, böyle bir uluslararasılaşma katmanı başka bir dile bir çeviri ile İngilizce metni değiştirmek için metinsel dize özelliklerini geçersiz kılar.
Ancak, çoğu dil inceliklerini uluslararasılaşma katmanları bazen tüm fonksiyonlarını geçersiz neden olan, daha sofistike mekanizmaları gerektirir. Örneğin, bir çoklu-eşleme fonksiyonu kaç belirtir ve bir dil bir tam sayı aşağıdakileri kullanan tellerine sağlanır.
Belgeler.
S2 doğrudan geleneksel yorumlardan kaynak kodu, ayrı (makine-ayırt) içinde bir sınıf, yöntem, fonksiyon veya özellik belgelerine sağlama fikrini içeriyor. Açıklayıcı metin Küçük dizeleri sınıf, yöntem, fonksiyon veya mülkiyet başlığında sonra eklenebilir ve bunlar belgeleri oluşturmak için kullanılabilir.
Bu yazının yazıldığı, ancak bu dizeleri hiçbiri aslında özelleştirme sihirbazında görünen özellikleri ile ilişkili olanlar hariç kullanılır; aşağıya bakınız. Diğer dilleri konuşanlar için izin vermek için özellikleri için bu belgesel dizeleri kılabilirsiniz bir i18n katman kendi dillerinde mevcut seçeneklerin açıklamaları ile sunulacak.
özelleştirme sihirbazı.
S2 Web kullanıcı arayüzü kullanıcıların gerçek S2 kaynak kodunu yazmak için gerek kalmadan bir düzen özelliklerinin değerlerini değiştirmenize olanak verir. Bu arayüz "özelleştirme sihirbazı" olarak adlandırılır ve bu özelliklerin kullanıcının tercih ettiği değerleri saklayan bir kullanıcı tabakası oluşturur.
S2 istenmeyen kullanımları.
S2 tamamen bir web düzeni programlama dili olarak tasarlanmıştır. Başlangıçta yakında "sersem" uygulamaları yaratmak için kullanılan olacağını tahmin edilmemişti.
Özellikle, bu yazının yazıldığı anda, dört oyun S2 yazıldığı: "Piyonlar" adlı Hanoi iki Tic Tac Toe sürümleri ve oyunun Kuleleri [http://lj-nifty.livejournal.com/93092. html. Tic Tac Toe sürümlerinden birini bir yan-barda bir kutu olarak bir dergi tarzı içine gömülü edilmiştir.
